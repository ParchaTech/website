---
import { Image } from "astro:assets";

import Layout from "@/layouts/Layout.astro";
import Button from "@/components/Button.astro";
import TalkCard from "@/components/TalkCard.astro";

import heroCircleLg from "@/assets/hero_circle_lg.svg";
import heroCircleMd from "@/assets/hero_circle_md.svg";
import heroCircleSm from "@/assets/hero_circle_sm.svg";
import heroCircleCut from "@/assets/hero_circle_lg_cut.svg";
import duetonePhoto from "@/assets/duetone_photo.jpg";

import { getTalkEntries, getFrequentSpeakers } from "@/lib/contentful";

const talkList = await getTalkEntries();
const frequentSpeakers = await getFrequentSpeakers();
---

<Layout title="ParchaTech">
  <main>
    <section id="hero">
      <div class="flex w-100 justify-between relative">
        <div class="content-layout">
          <h1 class="hero__header text-secondary w-full">
            Tecnología y<br /><span class="hero__header--gradient">amigos</span
            ><br />en un mismo<br />
            <span class="text-primary">lugar</span>
          </h1>
          <p class="text-body hero__description">
            ParchaTech es una comunidad que brinda charlas enfocadas en el
            crecimiento personal y profesional, dentro del mundo de la
            tecnología.
          </p>

          <div class="flex justify-start items-center gap-12">
            <Button text="Agenda" type="primary" href="/#talks" />
            <Button text="Conocer más" type="link" href="/#volunteer" />
          </div>
        </div>
        <div class="absolute w-1/2 left-1/2 h-full">
          <div class="flex justify-between w-full h-1/2">
            <div class="flex">
              <Image
                src={heroCircleLg}
                alt=""
                class="min-h-max min-w-max z-10 relative"
              />
              <Image
                src={heroCircleMd}
                alt=""
                class="max-h-fit z-10 right-1/4 top-2/3 relative"
              />
              <Image
                src={heroCircleSm}
                alt=""
                class="max-h-fit z-10 right-1/3 top-2/3 relative"
              />
            </div>
            <Image
              src={heroCircleSm}
              alt=""
              class="max-h-fit z-10 bottom-auto -top-1/3 relative"
            />
            <div class="flex">
              <Image
                src={heroCircleMd}
                alt=""
                class="max-h-fit z-20 left-1/2 relative"
              />
              <Image
                src={heroCircleLg}
                alt=""
                class="min-h-max z-10 -top-2/3 left-12 relative"
              />
            </div>
          </div>
          <div class="flex w-full h-full left-1/2">
            <div class="bg-primary w-1/2 h-1/3"></div>
            <div class="bg-primary w-1/2 h-2/3">
              <Image
                src={heroCircleSm}
                alt=""
                class="max-h-fit z-20 top-1/2 left-1/4 relative"
              />
              <Image
                src={heroCircleCut}
                alt=""
                class="min-h-max min-w-max z-10 top-[133px] relative"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="talks">
      <h2 class="text-header talks__header">
        Próximas<br />
        <span class="divider"></span>
        Charlas
      </h2>
      <div class="talks__container">
        {
          talkList.map((talk) => (
            <TalkCard
              title={talk.title}
              description={talk.description}
              date={talk.date}
              signUpURL={talk.signUpUrl}
              thumbnail={talk.thumbnail}
              color={talk.color}
              ctaDisabled={talk.ctaDisabled}
            />
          ))
        }
      </div>
    </section>

    <section id="speakers">
      <div class="bg__grid-overlay"></div>
      <h2 class="text-header speakers__header">
        <span class="divider"></span>
        Speakers
        <span class="divider"></span>
      </h2>
      <div class="speakers__list">
        {
          frequentSpeakers.map((speaker) => (
            <div class="speakers__item">
              <div class="speakers__border">
                <Image
                  class="speakers__pic"
                  src={speaker.photoURL}
                  alt="Foto del rostro del orador"
                  inferSize
                />
              </div>
              <h3 class="text-subheader" set:html={speaker.name} />
              <p class="text-title" set:html={speaker.jobPosition} />
              <Image
                class="speakers__company-logo"
                src={speaker.companyLogoURL}
                alt="Logo de la compañía donde trabaja el orador"
                inferSize
              />
            </div>
          ))
        }
      </div>
      <div class="bg-primary w-[29.5%] h-[133px] self-start"></div>
      <div class="bg-primary w-[48.4%] h-32 self-start"></div>
    </section>

    <section id="volunteer">
      <div class="content-layout flex">
        <div>
          <h2 class="text-header volunteer__header">
            Sé parte de la<br />comunidad
          </h2>
          <p class="my-6 w-2/3">
            Somos un grupo de amigos que se conocieron durante la carrera de
            Ingeniería en Sistemas, en la Universidad del Valle en Cali. Después
            graduarnos, y buscando la manera de nunca parar de aprender,
            quisimos crear espacios para la enseñanza y el crecimiento personal
            dentro del sector. Así nació ParchaTech, una iniciativa de charlas,
            que no sólo busca compartir el conocimiento con la comunidad, sino
            también ayudar a practicar esas habilidades blandas que siempre
            vamos a necesitar, como la oratoria y el hablar en público.<br /><br
            />
            Hoy, nos enfocamos en crear experiencias educativas que van más allá
            del contenido técnico, donde cualquier persona pueda tener la oportunidad
            de compartir, aprender y parcharse.
          </p>
          <Button type="secondary" text="Participar" />
        </div>
        <Image src={duetonePhoto} alt="" />
      </div>
    </section>
  </main>

  <style>
    .content-layout {
      width: 100%;
      max-width: 1440px;
      margin: 0 auto;
    }
  </style>
</Layout>
